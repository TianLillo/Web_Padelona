<html>
<head>
	<title>PadeLona -Pistas cercanas-</title>
	<link rel="stylesheet" href="style.css">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDEB1plSzdQgv2oSvyvPT99BHmhJpG8Cys&v=3.exp"></script>
	<script src="clubes.js"></script>
        <script type="text/javascript">
 
			var map;
            function initialize() {
                var mapOptions = {
                    zoom: 12,
					          center: new google.maps.LatLng(41.403952, 2.185661),
                    disableDefaultUI: true,
                    scaleControl: true,
                    streetViewControl: false,
                    ZoomControlOptions: false,
                    mapTypeControl: true,
                    fullscreenControl: true,
                    mapTypeControlOptions: {
                      style: google.maps.MapTypeControlStyle.DROPDOWN_MENU,
                      mapTypeIds: ["roadmap", "satellite", ],},
                    styles: [
                      {elementType: "geometry", stylers: [{color: "#f5f5f5"}]},
                      {elementType: "labels.icon", stylers:[{visibility: "off"}]},
                      {elementType: "labels.text.fill",stylers:[{color: "#616161"}]},
                      {elementType: "labels.text.stroke",stylers: [{ color: "#f5f5f5"}]},
                      {featureType: "administrative", stylers: [{weight: 3.5}]},
                      {featureType: "administrative",elementType: "geometry.fill",stylers: [{color: "#000000"}]},
                      {featureType: "administrative",elementType: "labels.text",stylers: [{visibility: "on"},{weight: 6}]},
                      {featureType: "administrative",elementType: "labels.text.fill",stylers: [{color: "#ffffff"}]},
                      {featureType: "administrative",elementType: "labels.text.stroke",stylers: [{color: "#000000"},{weight: 3.5}]},
                      {featureType: "administrative.land_parcel",elementType: "labels",stylers: [{visibility: "off"}]},
                      {featureType: "administrative.land_parcel",elementType: "labels.text.fill",stylers: [{color: "#bdbdbd"}]},
                      {featureType: "landscape",stylers: [{color: "#007ac0"}]},
                      {featureType: "landscape.natural",elementType: "geometry.fill",stylers: [{color: "#dbdbff"}]},
                      {featureType: "poi",elementType: "geometry",stylers: [{color: "#eeeeee"}]},
                      {featureType: "poi",elementType: "labels.text",stylers: [{visibility: "off"}]},
                      {featureType: "poi",elementType: "labels.text.fill",stylers: [{color: "#757575"}]},
                      {featureType: "poi.business",stylers: [{visibility: "off"}]},
                      {featureType: "poi.park",elementType: "geometry",stylers: [{color: "#e5e5e5"}]},
                      {featureType: "poi.park",elementType: "labels.text.fill",stylers: [{color: "#9e9e9e"}]},
                      {featureType: "road",stylers: [{color: "#f5f5f5"}]},
                      {featureType: "road",elementType: "geometry",stylers: [{color: "#ffffff"}]},
                      {featureType: "road",elementType: "labels.icon",stylers: [{visibility: "off"}]},
                      {featureType: "road.arterial",elementType: "labels.text.fill",stylers: [{color: "#757575"}]},
                      {featureType: "road.highway",elementType: "geometry",stylers: [{color: "#dadada"}]},
                      {featureType: "road.highway",elementType: "labels.text.fill",stylers: [{color: "#616161"},{weight: 3.5}]},
                      {featureType: "road.local",elementType: "labels.text.fill",stylers: [{color: "#9e9e9e"}]},
                      {featureType: "transit",stylers: [{visibility: "off"}]},
                      {featureType: "transit.line",elementType: "geometry",stylers: [{color: "#e5e5e5"}]},
                      {featureType: "transit.station",elementType: "geometry",stylers: [{color: "#eeeeee"}]},
                      {featureType: "water",stylers: [{color: "#ffffff"},{visibility: "on"}]},
                      {featureType: "water",elementType: "geometry",stylers: [{color: "#c9c9c9"}]},
                      {featureType: "water",elementType: "labels.text.fill",stylers: [{color: "#9e9e9e"}]},
                    ],
                      

                };
                map = new google.maps.Map(document.getElementById('map-canvas'),
					mapOptions);			
                
                for (i = 0; i<clubsLocation.length; i++)  {  

                  {
                    createStation(i);
                  }					
      }
      var currentInfoWindow = null;
      function createStation(i) {
        var point = new google.maps.LatLng(clubsLocation[i].latitude, clubsLocation[i].longitude);
        var pOptions = {
          position: point, 
          map: map, 
          title: clubsLocation[i].name
        };
                    var markerStation = new google.maps.Marker(pOptions);

                        var infoWOpt = {
                            content: '<div class="clubes">'

                                        +'<h2>'+ clubsLocation[i].name + '</h2>' 
                                        +'<p><strong>Direcci贸n: </strong> ' + clubsLocation[i].addres + '</p>'
                                        +'<p><strong>Tel茅fono: </strong> ' + clubsLocation[i].phone + '</p>'
                                        +'<p><a class="link-moreinfo" href="clubes.html">M谩s informaci贸n y como llegar</a></p>'
                                        +'<img class="map-product-img" src="' + clubsLocation[i].img + '" />'
                                        
                        };

                        var infoWindow  = new google.maps.InfoWindow(infoWOpt);
                        google.maps.event.addListener(markerStation, 'click', function (event) {
                          if (currentInfoWindow != null) {
                              currentInfoWindow.close();}
                              infoWindow.open(map, markerStation);
                              currentInfoWindow = infoWindow;
                              });
                              
                            
                    }    

            }

            google.maps.event.addDomListener(window, 'load', initialize);
        </script>	
    </head>	
<body>
	<div class="header">
    <p><a href="inicio.html"><img class="logo-img" src="img/logo_padelona_blanco.png"/></a></p>
	</div>
  <div class="menu">
    <ul class="nav">
      <li><a href="inicio.html">Inicio</a></li>
      <li><a href="clubes.html">Clubes</a>
        <ul>
          <li><a href="">Club 1</a></li>
          <li><a href="">Club 2</a></li>
          <li><a href="">Club 3</a></li>
          <li><a href="">Club 4</a></li>
          <li><a href="">Club 5</a></li>
          <li><a href="">Club 6</a></li>
          <li><a href="">Club 7</a></li>
          <li><a href="">Club 8</a></li>
          <li><a href="">Club 9</a></li>
          <li><a href="">Club 10</a></li>
          <li><a href="">Club 11</a></li>
        </ul>
      </li>
      <li><a href="pistascercanas.html">Pistas cercanas</a></li>
      <li><a href="store.html">Tienda</a></li>
    </ul>
  </div>
  <img class="img-fondo"  src="img/cesped-fondo2.png" >
  <img class="img-fondo2"  src="img/cesped-fondo2.png" >

	<div class="wrapper">
		<h1>Encuentra tu club m谩s cercano</h1>
        <div id="map-canvas"></div>
        <p><br> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse elementum nulla quis euismod porta. 
          Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Pellentesque ultrices, 
          nibh maximus consequat aliquet, arcu nulla feugiat felis.</p>
        </div>
	</div>

  <div class="bottom">
    <p>Proyecto creado con fines educativos<br>
    Programaci贸n SIG en entornos WEB<br>
    Master Sistemas de informaci贸n geogr谩fica 2022-2023</p>
    <p><a href="https://www.talent.upc.edu/"><img class="bottom-img-upc" src="img/logo_upc.png"></a></p>
    <p><img class="bottom-img-logo" src="img/logo_padelona.png"></p>
  </div>

  <button class="promo-code-button" id="modal_btn1">
    <p class="promo-code-text">隆DESCUENTO!</p>
  </button>

  </div>
  <div id="modal_container">
  </div>
  <script>

  const modal_container = document.getElementById("modal_container")
  const modal_btn1 = document.getElementById("modal_btn1")	
  
  modal_btn1.addEventListener("click", () => {
    createModal(`
    <h2>FELICIDADES</h2>
    <p>Ya tienes tu c贸dido de descuento: <strong>PADELONA30%</strong> el que puedes utilizar en nuestra tienda.</p>
    <img class="modal-img" src="img/30off.png">
    `, "modal-desdeArriba")
  })

  const createModal = (content = "sin contenido", style = "") => {
    modal_container.innerHTML = `
    <div class="modal" id="modal">
      <div class="modal-content ${style}">
      ${content}
      <button class="modal-btn-closed" id="close-button">Ya lo tengo</button>
      </div>
    </div>
    `

    document.getElementById("modal").addEventListener("click", (e) => {
    console.log(e.target.id)
    if (e.target.id === "modal" || e.target.id === "close-button") {
      modal_container.innerHTML = ""
    }
    })
  }
  </script>
	</body>
</html>